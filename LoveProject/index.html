<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <!-- Using Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" 
        integrity="sha512-dDfXkIOlK8f6+0wS6LbzC5UjvXAxKnfMEOG8e8ITDfaK06h8Cfc+/FnJu/vI2pB+8LEa20be1lh6ehRkYyQ6g==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>This one is for my Saily</title>
  <style type="text/css">
    @font-face { font-family: digit; src: url('digital-7_mono.ttf') format("truetype"); }
    /* Set background to saved.jpg */
    body { 
      margin: 0; 
      padding: 0; 
      background: url('saved.jpg') no-repeat center center fixed !important; 
      background-size: cover; 
      font-size: 12px; 
      overflow: auto; 
    }
    #mainDiv { width: 100%; height: 100%; }
    #loveHeart { float: left; width: 670px; height: 625px; }
    #garden { width: 100%; height: 100%; }
    #words { font-family: "sans-serif"; width: 500px; font-size: 24px; color: #fff; }
    #messages { display: none; text-align: center; font-size: 30px; }
    #loveu { padding: 5px; font-size: 22px; margin-top: 80px; margin-right: 120px; text-align: right; display: none; }
    #loveu .signature { margin-top: 10px; font-size: 20px; font-style: italic; }
    #code { float: left; width: 440px; height: 400px; color: #fff; font-family: "Consolas","Monaco","Bitstream Vera Sans Mono","Courier New", sans-serif; font-size: 12px; }
    #code .comments { color: #3f7f5f; }
    #code .space { margin-left: 7px; }
    #heartspan { text-align: center; margin: 20px; }
    #icon { font-size: 48px; color: red; margin: 50px; align-content: center; }
    /* Button styles updated for a more royal feel */
    #buttons { text-align: center; margin-top: 20px; }
    #buttons button {
      padding: 10px 20px;
      font-size: 16px;
      margin: 5px;
      cursor: pointer;
      background: #6A0DAD;
      border: 2px solid gold;
      border-radius: 10px;
      color: #fff;
      font-weight: bold;
    }
    #buttons button:hover { background: #7B1FA2; }
    #buttons i { margin-right: 8px; }
    #errorMsg { width: 100%; text-align: center; font-size: 24px; position: absolute; top: 100px; left: 0; }
    /* Refined Popup Modal Styles */
    #popupModal {
      display: none;
      position: fixed;
      z-index: 1000;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.8);
      text-align: center;
      padding-top: 5%;
    }
    #popupModal img { max-width: 90%; max-height: 90%; border: 5px solid gold; border-radius: 10px; }
    #popupModal button {
      padding: 10px 20px;
      font-size: 18px;
      margin-top: 20px;
      cursor: pointer;
      background: gold;
      border: none;
      border-radius: 5px;
      color: #6A0DAD;
      font-weight: bold;
    }
  </style>
  <link href="css/default.css" type="text/css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type="text/javascript">
    // BEGIN inline functions.js
    var $window = $(window), gardenCtx, gardenCanvas, $garden, garden;
    var clientWidth = $(window).width(), clientHeight = $(window).height();
    $(function () {
      $loveHeart = $("#loveHeart");
      var offsetX = $loveHeart.width() / 2, offsetY = $loveHeart.height() / 2 - 55;
      $garden = $("#garden");
      gardenCanvas = $garden[0];
      gardenCanvas.width = $("#loveHeart").width();
      gardenCanvas.height = $("#loveHeart").height();
      gardenCtx = gardenCanvas.getContext("2d");
      gardenCtx.globalCompositeOperation = "lighter";
      garden = new Garden(gardenCtx, gardenCanvas);
      $("#content").css("width", $loveHeart.width() + $("#code").width());
      $("#content").css("height", Math.max($loveHeart.height(), $("#code").height()));
      $("#content").css("margin-top", Math.max(($window.height() - $("#content").height()) / 2, 10));
      $("#content").css("margin-left", Math.max(($window.width() - $("#content").width()) / 2, 10));
      setInterval(function () { garden.render(); }, Garden.options.growSpeed);
    });
    $(window).resize(function() {
      if ($(window).width() != clientWidth && $(window).height() != clientHeight) {
        location.replace(location);
      }
    });
    function getHeartPoint(angle) {
      var t = angle / Math.PI;
      var x = 19.5 * (16 * Math.pow(Math.sin(t), 3));
      var y = -20 * (13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
      return [($("#loveHeart").width()/2)+x, ($("#loveHeart").height()/2 - 55)+y];
    }
    function startHeartAnimation() {
      var interval = 50, angle = 10, heart = [];
      var animationTimer = setInterval(function () {
        var bloom = getHeartPoint(angle), draw = true;
        for (var i = 0; i < heart.length; i++) {
          var p = heart[i];
          if (Math.sqrt(Math.pow(p[0]-bloom[0],2) + Math.pow(p[1]-bloom[1],2)) < Garden.options.bloomRadius.max*1.3) { draw = false; break; }
        }
        if (draw) { heart.push(bloom); garden.createRandomBloom(bloom[0], bloom[1]); }
        if (angle >= 30) { clearInterval(animationTimer); showMessages(); }
        else { angle += 0.2; }
      }, interval);
    }
    (function($) {
      $.fn.typewriter = function() {
        this.each(function() {
          var $ele = $(this), str = $ele.html(), progress = 0;
          $ele.html('');
          var timer = setInterval(function() {
            var current = str.substr(progress, 1);
            if (current == '<') { progress = str.indexOf('>', progress) + 1; } else { progress++; }
            $ele.html(str.substring(0, progress) + (progress & 1 ? '_' : ''));
            if (progress >= str.length) { clearInterval(timer); }
          }, 75);
        });
        return this;
      };
    })(jQuery);
    function adjustCodePosition() { $('#code').css("margin-top", ($("#garden").height()-$("#code").height())/2); }
    function adjustWordsPosition() { $('#words').css({ position:"absolute", top: $("#garden").position().top+195, left: $("#garden").position().left+70 }); }
    function showMessages() { adjustWordsPosition(); $('#messages').fadeIn(5000, function(){ showLoveU(); }); }
    function showLoveU() { $('#loveu').fadeIn(3000); }
    // END inline functions.js

    // BEGIN inline garden.js
    function Vector(x, y) { this.x = x; this.y = y; }
    Vector.prototype = {
      rotate: function(theta) { var x = this.x, y = this.y; this.x = Math.cos(theta)*x - Math.sin(theta)*y; this.y = Math.sin(theta)*x + Math.cos(theta)*y; return this; },
      mult: function(f) { this.x *= f; this.y *= f; return this; },
      clone: function() { return new Vector(this.x, this.y); },
      length: function() { return Math.sqrt(this.x*this.x + this.y*this.y); },
      subtract: function(v) { this.x -= v.x; this.y -= v.y; return this; },
      set: function(x, y) { this.x = x; this.y = y; return this; }
    };
    function Petal(stretchA, stretchB, startAngle, angle, growFactor, bloom) {
      this.stretchA = stretchA;
      this.stretchB = stretchB;
      this.startAngle = startAngle;
      this.angle = angle;
      this.bloom = bloom;
      this.growFactor = growFactor;
      this.r = 1;
      this.isfinished = false;
    }
    Petal.prototype = {
      draw: function() {
        var ctx = this.bloom.garden.ctx;
        var v1 = new Vector(0, this.r).rotate(Garden.degrad(this.startAngle));
        var v2 = v1.clone().rotate(Garden.degrad(this.angle));
        var v3 = v1.clone().mult(this.stretchA);
        var v4 = v2.clone().mult(this.stretchB);
        ctx.strokeStyle = this.bloom.c;
        ctx.beginPath();
        ctx.moveTo(v1.x, v1.y);
        ctx.bezierCurveTo(v3.x, v3.y, v4.x, v4.y, v2.x, v2.y);
        ctx.stroke();
      },
      render: function() { if (this.r <= this.bloom.r) { this.r += this.growFactor; this.draw(); } else { this.isfinished = true; } }
    };
    function Bloom(p, r, c, pc, garden) {
      this.p = p;
      this.r = r;
      this.c = c;
      this.pc = pc;
      this.petals = [];
      this.garden = garden;
      this.init();
      this.garden.addBloom(this);
    }
    Bloom.prototype = {
      draw: function() {
        var isfinished = true;
        this.garden.ctx.save();
        this.garden.ctx.translate(this.p.x, this.p.y);
        for (var i = 0; i < this.petals.length; i++) { this.petals[i].render(); isfinished *= this.petals[i].isfinished; }
        this.garden.ctx.restore();
        if (isfinished === true) { this.garden.removeBloom(this); }
      },
      init: function() {
        var angle = 360 / this.pc, startAngle = Garden.randomInt(0, 90);
        for (var i = 0; i < this.pc; i++) {
          this.petals.push(new Petal(
            Garden.random(Garden.options.petalStretch.min, Garden.options.petalStretch.max),
            Garden.random(Garden.options.petalStretch.min, Garden.options.petalStretch.max),
            startAngle + i * angle,
            angle,
            Garden.random(Garden.options.growFactor.min, Garden.options.growFactor.max),
            this
          ));
        }
      }
    };
    function Garden(ctx, element) { this.blooms = []; this.element = element; this.ctx = ctx; }
    Garden.prototype = {
      render: function() { for (var i = 0; i < this.blooms.length; i++) { this.blooms[i].draw(); } },
      addBloom: function(b) { this.blooms.push(b); },
      removeBloom: function(b) { for (var i = 0; i < this.blooms.length; i++) { if (this.blooms[i] === b) { this.blooms.splice(i, 1); return; } } },
      createRandomBloom: function(x, y) {
        this.createBloom(
          x, y,
          Garden.randomInt(Garden.options.bloomRadius.min, Garden.options.bloomRadius.max),
          Garden.randomrgba(
            Garden.options.color.rmin, Garden.options.color.rmax,
            Garden.options.color.gmin, Garden.options.color.gmax,
            Garden.options.color.bmin, Garden.options.color.bmax,
            Garden.options.color.opacity
          ),
          Garden.randomInt(Garden.options.petalCount.min, Garden.options.petalCount.max)
        );
      },
      createBloom: function(x, y, r, c, pc) { new Bloom(new Vector(x, y), r, c, pc, this); },
      clear: function() { this.blooms = []; this.ctx.clearRect(0, 0, this.element.width, this.element.height); }
    };
    Garden.options = {
      petalCount: { min: 8, max: 15 },
      petalStretch: { min: 0.1, max: 3 },
      growFactor: { min: 0.1, max: 1 },
      bloomRadius: { min: 8, max: 10 },
      density: 10,
      growSpeed: 1000 / 60,
      color: { rmin: 128, rmax: 255, gmin: 0, gmax: 128, bmin: 0, bmax: 128, opacity: 0.1 },
      tanAngle: 60
    };
    Garden.random = function(min, max) { return Math.random() * (max - min) + min; };
    Garden.randomInt = function(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };
    Garden.circle = 2 * Math.PI;
    Garden.degrad = function(angle) { return Garden.circle / 360 * angle; };
    Garden.rgba = function(r, g, b, a) { return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'; };
    Garden.randomrgba = function(rmin, rmax, gmin, gmax, bmin, bmax, a) {
      var r = Math.round(Garden.random(rmin, rmax)),
          g = Math.round(Garden.random(gmin, gmax)),
          b = Math.round(Garden.random(bmin, bmax)),
          limit = 5;
      return (Math.abs(r - g) <= limit && Math.abs(g - b) <= limit && Math.abs(b - r) <= limit)
        ? Garden.rgba(rmin, rmax, gmin, gmax, bmin, bmax, a)
        : Garden.rgba(r, g, b, a);
    };
    // END inline garden.js

    // Initialization (timer update calls removed from heart area)
    $(function(){ 
      setTimeout(function(){ startHeartAnimation(); }, 5000); 
      adjustCodePosition(); 
      $("#code").typewriter(); 
    });
  </script>
</head>
<body>
  <div id="mainDiv">
    <div id="content">
      <div id="code">
        <span class="comments">/**</span><br />
        <span class="space"/><span class="comments">*THE CODE OF LOVE</span><br />
        <span class="space"/><span class="comments">*/</span><br />
        Hey Girl !<br />
        Do you remember the first date ?<br />
        <span class="comments">// 16 DEC 2022 . </span><br />
        Since that day a spark begun;<br />
        <span class="comments">// Your face Your Voice Your Words.</span><br />
        Your everything got imprinted in my heart;<br />
        As the time went on;<br />
        The Bond grew stronger and stronger;<br />
        Journey from Infatuation to Love;<br />
        We have traveled a long way together;<br />
        There have been fights ;<br />
        <span class="comments">// And I'm sure there will be more.</span><br />
        But our Bond will always grow back Stronger;<br /><br />
        All I want to say is:<br />
        Baby, I will love you forever;<br /><br />
        Now If you want to hug me you can touch the heart below<br /><br />
        <span id="heartspan">
          <a href="https://www.instagram.com/logicallylogicc/" target="_blank"><i class="fab fa-instagram" id="icon"></i></a>
          <a href="https://www.google.com" target="_blank"><i class="fas fa-globe" id="icon"></i></a>
          <a href="saved.jpg" target="_blank"><i class="fas fa-heart" id="icon"></i></a>
        </span>
        <div id="buttons">
          <button onclick="window.open('https://www.instagram.com/logicallylogicc/', '_blank')">
            <i class="fab fa-instagram"></i> our instgram 👑
          </button>
          <button onclick="window.open('https://drive.google.com/drive/folders/1gXy9ZboRBCOMsOyXcssi77EKjSr5k-Zl', '_blank')">
            <i class="fas fa-image"></i> our memory 💎
          </button>
          <button onclick="window.open('https://mailhimanshu.github.io/nayaproject/', '_blank')">
            <i class="fas fa-heart"></i> for more love ❤️
          </button>
          <button onclick="$('#popupModal').fadeIn();">
            <i class="fas fa-hand-holding-heart"></i> Hug For You 🤗
          </button>
        </div>
      </div>
      <div id="loveHeart">
        <canvas id="garden"></canvas>
        <div id="words">
          <div id="messages"></div>
          <div id="loveu">
            Tere Ahkhon ke  kajal mai khogaye the hum <br/>
            Shayad tere ho gaye the hum <br/>
            <div class="signature">- HIMANSHU</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Popup Modal -->
  <div id="popupModal">
    <img src="giphy.gif" alt="Popup GIF" />
    <br>
    <button onclick="$('#popupModal').fadeOut();">Close</button>
  </div>
</body>
</html>
